<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="/styles.css">
    <title>Animales</title>
</head>
<body class="bg-light">

<div class="container mt-5">
    <h1 class="text-center mb-4">Editar Nuevo Animal</h1>

    <form action="/animales/editar/<%= animal._id %>" method="post" class="needs-validation" novalidate>

        <div class="mb-3">
            <label for="nombre" class="form-label">Nombre</label>
            <input type="text" name="nombre" id="nombre" class="form-control" value="<%= animal.nombre %>" required>
            <div class="invalid-feedback">
                Por favor, ingrese el nombre.
            </div>
        </div>

        <div class="mb-3">
            <label for="fechaNacimiento" class="form-label">Fecha de nacimiento</label>
            <input type="date" name="fechaNacimiento" id="fechaNacimiento" class="form-control" value="<%= animal.fechaNacimiento ? animal.fechaNacimiento.toISOString().substr(0,10) : '' %>" required>
            <div class="invalid-feedback">
                Por favor, seleccione la fecha de nacimiento.
            </div>
        </div>

        <div class="mb-3">
            <label for="raza" class="form-label">Raza</label>
            <input type="text" name="raza" id="raza" class="form-control" value="<%= animal.raza %>" required>
            <div class="invalid-feedback">
                Por favor, ingrese la raza.
            </div>
        </div>

        <div class="mb-3">
            <label for="sexo" class="form-label">Sexo</label>

            <select class="form-select">
                <option value="Macho" <%= animal.sexo === 'Macho' ? 'selected' : '' %>>Macho</option>
                <option value="Hembra" <%= animal.sexo === 'Hembra' ? 'selected' : '' %>>Hembra</option>

            </select>

            
        </div>

        <div class="mb-3">
            <label for="estado" class="form-label">Estado</label>
            <select name="estado" class="form-select" required>
                <option value="Activo" <%= animal.estado === 'Activo' ? 'selected' : '' %>>Activo</option>
                <option value="Recién nacido" <%= animal.estado === 'Recién nacido' ? 'selected' : '' %>>Recién nacido</option>
                <option value="En reproducción" <%= animal.estado === 'En reproducción' ? 'selected' : '' %>>En reproducción</option>
                <option value="Otro" <%= animal.estado === 'Otro' ? 'selected' : '' %>>Otro</option>
            </select>
            <div class="invalid-feedback">
                Por favor, seleccione el estado.
            </div>
        </div>

        <div class="mb-3">
            <label for="haciendaId" class="form-label">Hacienda</label>
            <select name="haciendaId" class="form-select" required>
                <% haciendas.forEach(function(hacienda) { %>
                    <option value="<%= hacienda._id %>" <%= animal.hacienda && animal.hacienda._id.toString() === hacienda._id.toString() ? 'selected' : '' %>><%= hacienda.nombre %></option>
                <% }); %>
            </select>
            <div class="invalid-feedback">
                Por favor, seleccione la hacienda.
            </div>
        </div>

        <button type="submit" class="btn btn-primary">Guardar</button>
        <a href="/animales" class="btn btn-secondary">Cancelar</a>

    </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-pzjw8V+6U+vWTenNcAC5d6PbO8p6w/KqjpkccPHtAgUAfDW5Q6I2cyT6HhrvFQ5P" crossorigin="anonymous"></script>
</body>
</html>
